(window["webpackJsonpuser-management"]=window["webpackJsonpuser-management"]||[]).push([[0],{128:function(e,t,r){e.exports=r(286)},136:function(e,t,r){},286:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(46),o=r.n(s),c=r(19),i=r(120),u=r(13),l=(r(136),r(5)),d=r(11),p=r.n(d),m=r(32),f=r(122),E=r.n(f).a.create({baseURL:"https://reqres.in/api/"}),y=function(){return function(e){e({type:"HIDE_FORM",payload:!1})}},b=r(70),O=function(){return function(e){e({type:"CLEAR_INDEX",payload:void 0})}},v=function(){return function(e){e({type:"CLEAR_MODE",payload:null})}},_=r(33),w=r(50),g=Object(_.c)({mapPropsToValues:function(e){return{first_name:e.first_name,last_name:e.last_name,id:e.id}},validationSchema:w.object().shape({first_name:w.string().required("required"),last_name:w.string().required("required")}),handleSubmit:function(e,t){var r=t.resetForm,n=t.setErrors;""!==e.first_name&&""!==e.last_name?r():n({first_name:"required"})}})((function(e){var t=e.touched,r=e.errors,n=e.values,s=e.hideForm,o=e.newUsersEdit,c=e.users,i=e.userIndexToEdit,u=e.clearIndex,d=e.clearMode,p=e.newUsersAdd,m=e.writeMode,f=Object(l.a)(c);console.log(r);return console.log(n),a.a.createElement(_.b,{className:"form"},t.first_name&&r.first_name&&a.a.createElement("p",{className:"required"},r.first_name),a.a.createElement(_.a,{type:"text",name:"first_name",placeholder:"First Name"}),t.last_name&&r.last_name&&a.a.createElement("p",{className:"required"},r.last_name),a.a.createElement(_.a,{type:"text",name:"last_name",placeholder:"Last Name"}),a.a.createElement("button",{className:"submit-btn",onClick:function(){return function(e){if(""==n.first_name||""==n.last_name)return null;"edit_mode"===m?o(f,e,i,n,s):"add_mode"===m&&p(f,n,s),s(),u(),d()}(n.id)}},"SUBMIT"))})),h=Object(u.b)((function(e){return{state:e.formDisplayReducer,users:e.usersReducer.users,userIndexToEdit:e.editUserReducer.userIndexToEdit,writeMode:e.editUserReducer.writeMode}}),{hideForm:y,newUsersEdit:function(e,t,r,n){var a="users".concat(t),s=Object(l.a)(e);return s[r]=n,function(){var e=Object(m.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.put(a,s);case 2:return r=e.sent,e.next=5,t({type:"NEW_USERS_EDIT",payload:r.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},clearIndex:O,newUsersAdd:function(e,t,r){var n=Object(l.a)(e);return function(){var e=Object(m.a)(p.a.mark((function e(r){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.push(t);case 2:return e.next=4,E.post("users",n);case 4:return a=e.sent,e.next=7,r({type:"NEW_USERS_ADD",payload:a.data});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},clearMode:v})(g);var j=Object(u.b)((function(e){return{state:e.formDisplayReducer,allUsers:e.usersReducer,userIndexToEdit:e.editUserReducer.userIndexToEdit,writeMode:e.editUserReducer.writeMode}}),{hideForm:y,clearIndex:O})((function(e){console.log(e.userIndexToEdit);var t=e.state.display?"show":"hide",r=e.allUsers.users.length+1;return console.log(r),a.a.createElement("div",{"data-name":"parent",className:"form-wrapper-fixed "+t,onClick:function(t){"parent"===t.target.dataset.name&&(e.hideForm(),e.clearIndex())}},a.a.createElement("div",{className:"form-container"},void 0!=e.userIndexToEdit&&"edit_mode"===e.writeMode?a.a.createElement(h,{first_name:e.allUsers.users[e.userIndexToEdit].first_name,last_name:e.allUsers.users[e.userIndexToEdit].last_name,id:e.allUsers.users[e.userIndexToEdit].id}):void 0===e.userIndexToEdit&&"add_mode"===e.writeMode?a.a.createElement(h,{first_name:"",last_name:"",id:r}):null))})),D=r(289),x=function(e){return a.a.createElement(D.a,null,e.children)};var I=Object(u.b)((function(e){return{state:e.usersReducer,userIndexToEdit:e.editUserReducer.userIndexToEdit,isDelete:!1}}),{usersAction:function(){return function(){var e=Object(m.a)(p.a.mark((function e(t){var r,n,a,s,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("users?page=1");case 2:return r=e.sent,e.next=5,E.get("users?page=2");case 5:return n=e.sent,e.next=8,E.get("users?page=3");case 8:return a=e.sent,e.next=11,E.get("users?page=4");case 11:s=e.sent,o=[].concat(Object(l.a)(r.data.data),Object(l.a)(n.data.data),Object(l.a)(a.data.data),Object(l.a)(s.data.data)),t({type:"USERS_FETCH",payload:o});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},showForm:function(){return function(e){e({type:"SHOW_FORM",payload:!0})}},getIndex:function(e){return function(t){t({type:"USER_INDEX",payload:e})}},clearIndex:O,editMode:function(){return function(e){e({type:"EDIT_MODE",payload:"edit_mode"})}},addMode:function(){return function(e){e({type:"ADD_MODE",payload:"add_mode"})}},deleteUser:function(e,t){var r=Object(l.a)(e);return r.splice(t,1),function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.delete("users/2");case 2:204===e.sent.status&&t({type:"DELETE_USER",payload:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){Object(n.useEffect)((function(){e.usersAction()}),[]);var t=Object(l.a)(e.state.users),r="show-delete-btn";r=e.state.users.length<2?"hide-delete-btn":"show-delete-btn",console.log(e.state.users);var s=e.state.users.map((function(n,s){return a.a.createElement("div",{className:"main-container-items",key:s},a.a.createElement("div",{className:"itemsinfo-Container"},a.a.createElement("div",{className:"itemsinfo"},a.a.createElement("div",{className:"main-info"},a.a.createElement("p",null,a.a.createElement("strong",null,"First Name:")," ",n.first_name),a.a.createElement("p",null,a.a.createElement("strong",null,"Last Name:")," ",n.last_name)),a.a.createElement("div",{className:"main-btn"},a.a.createElement("div",{onClick:function(){return function(t){e.showForm(),e.getIndex(t),e.editMode()}(s)},className:"edit-btn "},a.a.createElement(b.a,null)),a.a.createElement("div",{onClick:function(){return r=s,void(window.confirm("Delete user?")&&(e.deleteUser(t,r),console.log(e.isDelete)));var r},className:"close-btn "+r},a.a.createElement(b.b,null))))))}));return a.a.createElement(n.Fragment,null,a.a.createElement(x,null,a.a.createElement(j,null),a.a.createElement("div",{className:"header"},"User Management"),a.a.createElement("div",{className:"root-container"},a.a.createElement("div",{className:"container"},a.a.createElement("button",{className:"add-btn",onClick:function(){e.showForm(),e.clearIndex(),e.addMode()}},"+ Add New"),a.a.createElement("div",{className:"main-container"},s)))))})),R=r(27);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(r,!0).forEach((function(t){Object(R.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_FORM":case"HIDE_FORM":return U({},e,{display:t.payload});default:return e}};function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach((function(t){Object(R.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P={users:[]},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;return"USERS_FETCH"===t.type?T({},e,{users:t.payload}):"NEW_USERS_ADD"===t.type?T({},e,{users:t.payload}):"NEW_USERS_EDIT"===t.type?T({},e,{users:t.payload}):"DELETE_USER"===t.type?T({},e,{users:t.payload}):e};function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(r,!0).forEach((function(t){Object(R.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C={users:[],userIndexToEdit:null,writeMode:null,userData:null},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;return"USER_INDEX"===t.type?A({},e,{userIndexToEdit:t.payload}):"CLEAR_INDEX"===t.type?A({},e,{userIndexToEdit:t.payload}):"CLEAR_MODE"===t.type?A({},e,{writeMode:t.payload}):"EDIT_MODE"===t.type?A({},e,{writeMode:t.payload}):"ADD_MODE"===t.type?A({},e,{writeMode:t.payload}):e},L=Object(c.c)({formDisplayReducer:M,usersReducer:F,editUserReducer:q}),H=Object(c.d)(L,Object(c.a)(i.a));o.a.render(a.a.createElement(u.a,{store:H},a.a.createElement(I,null)),document.querySelector("#root"))}},[[128,1,2]]]);
//# sourceMappingURL=main.5303ee20.chunk.js.map