{"ast":null,"code":"import _toConsumableArray from\"/Users/Ucing/Desktop/FE Test Review/FE TEST USER MANAGEMENT/user-management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React from'react';import{withFormik,Field,Form}from'formik';import{connect}from'react-redux';import*as Yup from'yup';import{newUsersEdit,newUsersAdd}from'../actions/Users';import{hideForm}from'../actions/Form';import{clearIndex,clearMode}from'../actions/Edit';var FormField=function FormField(_ref){var touched=_ref.touched,errors=_ref.errors,values=_ref.values,hideForm=_ref.hideForm,newUsersEdit=_ref.newUsersEdit,users=_ref.users,userIndexToEdit=_ref.userIndexToEdit,clearIndex=_ref.clearIndex,clearMode=_ref.clearMode,newUsersAdd=_ref.newUsersAdd,writeMode=_ref.writeMode;var currentUsers=_toConsumableArray(users);console.log(errors);var throwForm=function throwForm(id){//hide form and clear everything\nif(values.first_name==''||values.last_name==''){//hideForm()\nreturn null;}else{if(writeMode==='edit_mode'){//newUsers[userIndexToEdit] = values\nnewUsersEdit(currentUsers,id,userIndexToEdit,values,hideForm);}else if(writeMode==='add_mode'){//newUsers.push(values)\nnewUsersAdd(currentUsers,values,hideForm);}hideForm();clearIndex();clearMode();}};console.log(values);return React.createElement(Form,{className:\"form\"},touched.first_name&&errors.first_name&&React.createElement(\"p\",{className:\"required\"},errors.first_name),React.createElement(Field,{type:\"text\",name:\"first_name\",placeholder:\"First Name\"}),touched.last_name&&errors.last_name&&React.createElement(\"p\",{className:\"required\"},errors.last_name),React.createElement(Field,{type:\"text\",name:\"last_name\",placeholder:\"Last Name\"}),React.createElement(\"button\",{className:\"submit-btn\",onClick:function onClick(){return throwForm(values.id);}},\"SUBMIT\"));};var FormikComponent=withFormik({mapPropsToValues:function mapPropsToValues(_ref2){var first_name=_ref2.first_name,last_name=_ref2.last_name,id=_ref2.id;return{first_name:first_name,last_name:last_name,id:id};},validationSchema:Yup.object().shape({first_name:Yup.string().required('required'),last_name:Yup.string().required('required')}),handleSubmit:function handleSubmit(values,_ref3){var resetForm=_ref3.resetForm,setErrors=_ref3.setErrors;if(values.first_name!==''&&values.last_name!==''){hideForm();clearIndex();clearMode();resetForm();}else{setErrors({first_name:\"required\"});}}})(FormField);var mapStateToProps=function mapStateToProps(store){return{state:store.formDisplayReducer,users:store.usersReducer.users,userIndexToEdit:store.editUserReducer.userIndexToEdit,writeMode:store.editUserReducer.writeMode};};export default connect(mapStateToProps,{hideForm:hideForm,newUsersEdit:newUsersEdit,clearIndex:clearIndex,newUsersAdd:newUsersAdd,clearMode:clearMode})(FormikComponent);","map":{"version":3,"sources":["/Users/Ucing/Desktop/FE Test Review/FE TEST USER MANAGEMENT/user-management/src/component/FormField.js"],"names":["React","withFormik","Field","Form","connect","Yup","newUsersEdit","newUsersAdd","hideForm","clearIndex","clearMode","FormField","touched","errors","values","users","userIndexToEdit","writeMode","currentUsers","console","log","throwForm","id","first_name","last_name","FormikComponent","mapPropsToValues","validationSchema","object","shape","string","required","handleSubmit","resetForm","setErrors","mapStateToProps","store","state","formDisplayReducer","usersReducer","editUserReducer"],"mappings":"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","sourcesContent":["\nimport React from 'react';\nimport {withFormik, Field, Form} from 'formik';\nimport {connect} from 'react-redux';\nimport * as Yup from 'yup';\nimport { newUsersEdit, newUsersAdd} from '../actions/Users';\nimport { hideForm } from '../actions/Form';\nimport { clearIndex, clearMode } from '../actions/Edit';\n\n\nconst FormField = ({touched, errors, values, hideForm, newUsersEdit, users, userIndexToEdit, clearIndex, clearMode, newUsersAdd, writeMode}) => {\n    \n    let currentUsers = [...users]\n    console.log(errors)\n    const throwForm = (id,)=> {\n        //hide form and clear everything\n        if(values.first_name == '' || values.last_name == ''){\n            //hideForm()\n            return null\n        }else{\n            if(writeMode === 'edit_mode'){\n                //newUsers[userIndexToEdit] = values\n                newUsersEdit(currentUsers, id, userIndexToEdit, values, hideForm)\n            }else if(writeMode === 'add_mode'){\n                //newUsers.push(values)\n                newUsersAdd(currentUsers, values, hideForm)\n            }\n            hideForm()\n            clearIndex()\n            clearMode()\n        }\n    }\n\n    console.log(values)\n    return (\n        <Form className=\"form\">\n            {touched.first_name && errors.first_name && <p className=\"required\">{errors.first_name}</p>}\n            <Field type=\"text\" name=\"first_name\" placeholder=\"First Name\"/>\n\n            {touched.last_name && errors.last_name && <p className=\"required\">{errors.last_name}</p>}\n            <Field type=\"text\" name=\"last_name\" placeholder=\"Last Name\"/>\n\n            <button className=\"submit-btn\" onClick={()=>throwForm(values.id)}>SUBMIT</button>\n        </Form>\n    )\n};\n\nconst FormikComponent = withFormik({\n    mapPropsToValues({first_name, last_name, id}){\n        return {\n            first_name,\n            last_name, \n            id\n        }\n    }, \n    \n    validationSchema : Yup.object().shape({\n        first_name: Yup.string().required('required'),\n        last_name: Yup.string().required('required'),\n    }),\n\n    handleSubmit(values, {resetForm, setErrors}){\n        if(values.first_name !== '' && values.last_name !== ''){\n            hideForm()\n            clearIndex()\n            clearMode()\n            resetForm()\n          \n        }else{\n            setErrors({first_name: \"required\"})\n           \n        }\n    }\n})(FormField);\n\nconst mapStateToProps = (store) => {\n    return {\n        state: store.formDisplayReducer,\n        users: store.usersReducer.users,\n        userIndexToEdit: store.editUserReducer.userIndexToEdit,\n        writeMode: store.editUserReducer.writeMode\n    }\n};\n\nexport default connect(mapStateToProps, {hideForm, newUsersEdit, clearIndex, newUsersAdd, clearMode}) (FormikComponent);"]},"metadata":{},"sourceType":"module"}